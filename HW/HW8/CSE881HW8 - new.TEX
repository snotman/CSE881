\documentclass[11pt]{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage{mathtools}
\usepackage{amssymb}
\usepackage{listings}
\usepackage{bm}
\usepackage{array}
% \usepackage{graphicx}
% \usepackage{xcolor}
% \usepackage{qtree}
% \usepackage{tikz}
\lstset
{ %Formatting for code in appendix
    language=Matlab,
    basicstyle=\footnotesize,
    numbers=left,
    stepnumber=1,
    showstringspaces=true,
    tabsize=1,
    breaklines=true,
    breakatwhitespace=false,
}
\begin{document}
\centerline{\LARGE{\textbf{CSE881 HW8}}}
\centerline{\large{\textit{Nan Cao,\  A52871775}}}
\centerline{\large{\textit{Nov 12th, 2016}}}

\section*{Problem 1}
\textbf{(a)}\\
\begin{tabular}{| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}|}
    \hline
 & \multicolumn{8}{| c|}{Cluster assignment of data points}
 & \multicolumn{3}{| c|}{Centroid Locations}\\
    \cline{2-12}
  Iter& 0.1 & 0.2 & 0.8 & 0.9 & 1.0 & 1.3 & 1.8 & 1.9 &  A  &  B  &  C\\
    \hline
0  &  -  &  -  &  -  &  -  &  -  &  -  &  -  &  -  &  0  & 0.3 &  2\\ 
    \hline
1  &  1  &  2  &  2  &  2  &  2  &  3  &  3  &  3  & 0.1 &0.725&  1.667\\
    \hline
2  &  1  &  1  &  2  &  2  &  2  &  3  &  3  &  3  & 0.15& 0.9 &  1.667\\
    \hline
3  &  1  &  1  &  2  &  2  &  2  &  3  &  3  &  3  & 0.15& 0.9 &  1.667\\
    \hline
\end{tabular}
\begin{center}
\textbf{Table 1-a}\\
\end{center}
\textbf{(b)}
$$SSE=0.2317$$
\\
\textbf{(c)}\\
If we put 1.0 in the first group:\\
\begin{tabular}{| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{1.13cm}| p{1.13cm}|}
    \hline
 & \multicolumn{8}{| c|}{Cluster assignment of data points}
 & \multicolumn{2}{| c|}{Centroid Locations}\\
    \cline{2-11}
  Iter& 0.1 & 0.2 & 0.8 & 0.9 & 1.0 & 1.3 & 1.8 & 1.9 &  A  &  B  \\
    \hline
0  &  -  &  -  &  -  &  -  &  -  &  -  &  -  &  -  &  0        &  2\\ 
    \hline
1  &  1  &  1  &  1  &  1  &  1  &  2  &  2  &  2  &  0.6   &  1.667\\
    \hline
2  &  1  &  1  &  1  &  1  &  1  &  2  &  2  &  2  &  0.6  &  1.667\\
    \hline
\end{tabular}
\begin{center}
\textbf{Table 1-c-1}\\
\end{center}
$$SSE_1=0.7,\ \ \ SSE_2=0.2067\ Choose\ A$$
\\
\begin{tabular}{| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}|}
    \hline
 & \multicolumn{8}{| c|}{Cluster assignment of data points}
 & \multicolumn{3}{| c|}{Centroid Locations}\\
    \cline{2-12}
  Iter& 0.1 & 0.2 & 0.8 & 0.9 & 1.0 & 1.3 & 1.8 & 1.9 &  A  &  $A_2$  &  B\\
    \hline
0  &  -  &  -  &  -  &  -  &  -  &  -  &  -  &  -  &  0  &  -  &  2\\ 
    \hline
1  &  1  &  1  &  1  &  1  &  1  &  2  &  2  &  2  & 0.6 &  -  &  1.667\\
    \hline
2  &  1  &  1  &  1  &  1  &  1  &  2  &  2  &  2  & 0.6 &  -  &  1.667\\
    \hline
2  &  -  &  -  &  -  &  -  &  -  &  3  &  3  &  3  & 0.1 &  1  &    -  \\
    \hline
3  &  1  &  1  &  2  &  2  &  2  &  3  &  3  &  3  & 0.15& 0.9 &  1.667\\
    \hline
4  &  1  &  1  &  2  &  2  &  2  &  3  &  3  &  3  & 0.15& 0.9 &  1.667\\
    \hline
\end{tabular}
\begin{center}
\textbf{Table 1-c-2}\\
\end{center}
$$SSE=0.2317$$
If we put 1.0 in the first group:\\
\begin{tabular}{| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{1.13cm}| p{1.13cm}|}
    \hline
 & \multicolumn{8}{| c|}{Cluster assignment of data points}
 & \multicolumn{2}{| c|}{Centroid Locations}\\
    \cline{2-11}
  Iter& 0.1 & 0.2 & 0.8 & 0.9 & 1.0 & 1.3 & 1.8 & 1.9 &  A  &  B  \\
    \hline
0  &  -  &  -  &  -  &  -  &  -  &  -  &  -  &  -  &  0        &  2\\ 
    \hline
1  &  1  &  1  &  1  &  1  &  2  &  2  &  2  &  2  &  0.6   &  1.667\\
    \hline
2  &  1  &  1  &  1  &  1  &  2  &  2  &  2  &  2  &  0.6  &  1.667\\
    \hline
\end{tabular}
\begin{center}
\textbf{Table 1-c-3}\\
\end{center}
$$SSE_1=0.5,\ \ \ SSE_2=0.54\ Choose\ B$$
\\
\begin{tabular}{| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}| p{0.75cm}|}
    \hline
 & \multicolumn{8}{| c|}{Cluster assignment of data points}
 & \multicolumn{3}{| c|}{Centroid Locations}\\
    \cline{2-12}
IteR& 0.1 & 0.2 & 0.8 & 0.9 & 1.0 & 1.3 & 1.8 & 1.9 &  A  &  B &  $B_2$\\
    \hline
0  &  -  &  -  &  -  &  -  &  -  &  -  &  -  &  -  &  0  & 1.0 &  - \\ 
    \hline
1  &  1  &  1  &  1  &  1  &  2  &  2  &  2  &  2  & 0.5 & 1.5 &  -  \\
    \hline
2  &  1  &  1  &  1  &  1  &  2  &  2  &  2  &  2  & 0.5 & 1.5 &  -  \\
    \hline
-  &  1  &  1  &  1  &  1  &  -  &  -  &  -  &  -  & -    &  1  &  1.9\\
    \hline
3  &  1  &  1  &  1  &  1  &  2  &  2  &  3  &  3  & 0.5 & 1.15 &  1.85\\
    \hline
4  &  1  &  1  &  1  &  1  &  2  &  2  &  3  &  3  & 0.5 & 1.15 &  1.85\\
    \hline
\end{tabular}
\begin{center}
\textbf{Table 1-c-4}\\
\end{center}
$$SSE=0.55$$
\textbf{(d)}\\
The firt method is better, the SSE in (a) is 0.2317, and the SSE in (c) is 0.2317 and 0.55. We need to do more job when there're data points on the border. And if we group the border points in the wrong group, it may result in a higher SSE.
\section*{Problem 2}
\begin{equation*}
\begin{aligned}
SSE=&\sum_{i\in C_1+C_2}(x_i-\mu)^2\\
SSE_2=&\sum_{i\in C_1}(x_i-\mu_1)^2+\sum_{i\in C_2}(x_i-\mu_2)^2\\
SSE_2-SSE=&(\sum_{i\in C_1}(x_i-\mu_1)^2+\sum_{i\in C_2}(x_i-\mu_2)^2)-\sum_{i\in C_1+C_2}(x_i-\mu)^2\\
=&(\sum_{i\in C_1}(x_i^2-2x_i\mu_1+\mu_1^2)+\sum_{i\in C_2}(x_i^2-2x_i\mu_2+\mu_2^2))-\sum_{i\in C_1+C_2}(x_i^2-2x_i\mu+\mu^2)\\
=&(\sum_{i\in C_1}x_i^2-\sum_{i\in C_1}2x_i\mu_1+N_1 \mu_1^2)+(\sum_{i\in C_2}x_i^2-\sum_{i\in C_2}2x_i\mu_2+N_2 \mu_2^2)\\
&-(\sum_{i\in C_1+C_2}x_i^2-\sum_{i\in C_1+C_2}2x_i\mu+N\mu^2)\\
=&(\sum_{i\in C_1+C_2}x_i^2-\sum_{i\in C_1}x_i^2-\sum_{i\in C_2}x_i^2)+(N\mu^2-(N1 \mu_1^2+N_2\mu_2^2))\\
=&N\mu^2-(N_1 \mu_1^2+N_2\mu_2^2)\\
=&(N_1+N_2)(\frac{N_1\mu_1+N_2 \mu_2}{N_1+N_2})^2-(N1 \mu_1^2+N_2\mu_2^2)\\
=&\frac{(N_1 \mu_1 + N_2 \mu_2)^2}{N_1+N_2}-(N1 \mu_1^2+N_2\mu_2^2)\\
=&\frac{(N_1^2 \mu_1^2-2N_1N_2\mu_1\mu_2+N_2^2 \mu_2^2)-((N_1(N_1+N_2)\mu_1^2+N_2(N_1+N_2)\mu_2^2))}{N1+N_2}\\
=&-\frac{N_1 N_2 (\mu_1-\mu_2)^2}{N}\leq 0\\
\end{aligned}
\end{equation*}
SSE is non-increasing when the data is split into 2 clusters.
\section*{Problem 3}
\textbf{(b)}\\
I prefer correlation, because prices of different stocks in same category may under different scales but change in the similar way. If we use Euclidean distance, stocks in same category may have a greater distance than that of stocks from the different categories.\\
\textbf{(d)}\\
\begin{equation*}
\begin{aligned}
Confusion\ Matrix&=
\begin{bmatrix}
 22 &  0 & 12 &  0 &  0 &  0 &  4 &  0 & 17 &  1\\
 17 &  0 &  7 &  0 &  1 &  0 &  0 &  0 & 21 &  0\\
  4 &  0 & 26 &  1 &  2 &  0 &  4 &  0 & 28 &  0\\
  1 &  0 & 36 &  0 &  2 &  1 &  3 &  0 & 14 &  0\\
  2 &  0 & 10 &  0 &  0 &  0 &  0 &  0 & 16 &  0\\
  6 &  1 & 28 &  0 &  0 &  0 &  5 &  1 & 34 &  2\\
 13 &  0 &  7 &  0 &  0 &  0 &  1 &  0 &  8 &  0\\
 10 &  0 &  9 &  0 &  0 &  0 &  0 &  0 & 13 &  0\\
 13 &  0 &  7 &  0 &  0 &  0 &  2 &  0 & 15 &  0\\
  0 &  0 &  3 &  0 &  0 &  0 &  0 &  0 &  2 &  0\\
\end{bmatrix}\\
Correct\ Rate&=\frac{Trace}{Sum}=0.1481\\
\end{aligned}
\end{equation*}\\
\textbf{(f)}\\
\begin{equation*}
\begin{aligned}
Confusion\ Matrix&=
\begin{bmatrix}
5 &  4 & 11 &  3 &  1 &  3 &  3 & 10 & 12 &  4\\
 7 & 10 &  5 &  3 &  2 &  1 &  8 &  5 &  2 &  3\\
12 & 13 &  6 & 14 &  4 &  3 &  7 &  5 &  1 &  0\\
 6 &  6 & 12 & 13 &  6 &  3 &  3 &  4 &  3 &  1\\
 5 & 10 &  0 &  0 &  0 &  1 &  6 &  2 &  4 &  0\\
26 & 10 & 16 &  0 &  1 &  2 &  8 &  3 &  9 &  2\\
 4 &  3 &  3 &  5 &  1 &  2 &  0 &  2 &  5 &  4\\
 4 &  8 &  6 &  3 &  0 &  3 &  1 &  5 &  2 &  0\\
 4 &  1 &  3 &  7 &  0 &  1 &  3 &  2 &  8 &  8\\
 1 &  0 &  2 &  0 &  0 &  0 &  2 &  0 &  0 &  0\\
\end{bmatrix}\\
Correct\ Rate&=\frac{Trace}{Sum}=0.1143\\
\end{aligned}
\end{equation*}
Euclidean distance is better for the data set.\\
\end{document}